<!-- Social Visualization for Class_Query.csv -->

<!DOCTYPE html>
<meta charset="utf-8">
<style>
p{
font-size: 12px;
padding:2px 5px 0px 11px;
}

body {
  font: 10px sans-serif;
}
.h1{
font-size:60px;
}

circle {
  fill: #57997B;
  fill-opacity: .25;
  stroke: rgb(31, 119, 180);
  stroke-width: 1px;
}

.leaf circle {
  fill: #5D80FE;
  fill-opacity: 1;
}

text {
  font: 10px sans-serif;
}

</style>
<body>

<div class="heading">

<h7 style="font-size:30px"><strong>Social Visualization 3</strong></h7>
<h1 style="font-size:12px">Explanation :</h1>
<p>The below visualization is a packed structure of circles with the most frequent words with a radius proportional to their frequency in that domain. It clearly depicts the clusters based on the intention circle with the biggest radius. The Class_Query log file has been sorted according to the frequency of the most used word grouped by domain intention and has been represented manually into the uquery.json file.</p>
<h1 style="font-size:12px"><mark><br>Findings & Analysis:</mark></h1>
 The results for this social visualization has been put in the SV2 page.<br><br><br>. 
</div>
<script src="//d3js.org/d3.v3.min.js"></script>
<script src="d3.js"></script>
<script src="d3.min.js"></script>
<script>

var diameter = 860,
    format = d3.format(",d");

var pack = d3.layout.pack()
    .size([diameter - 4, diameter - 4])
    .value(function(d) { return d.size; });

var svg = d3.select("body").append("svg")
    .attr("width", diameter)
    .attr("height", diameter)
  .append("g")
    .attr("transform", "translate(2,2)");

d3.json("uquery.json", function(error, root) {
  if (error) throw error;

  var node = svg.datum(root).selectAll(".node")
      .data(pack.nodes)
    .enter().append("g")
      .attr("class", function(d) { return d.children ? "node" : "leaf node"; })
      .attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });

  node.append("title")
      .text(function(d) { return d.name + (d.children ? "" : ": " + format(d.size)); });

  node.append("circle")
      .attr("r", function(d) { return d.r; });

  node.filter(function(d) { return !d.children; }).append("text")
      .attr("dy", ".3em")
      .style("text-anchor", "middle")
      .text(function(d) { return d.name.substring(0, d.r / 3); });
});

d3.select(self.frameElement).style("height", diameter + "px");

</script>